# 2020_04_26

## 1.  [Source code for Minimize critical request depth audit](https://github.com/GoogleChrome/lighthouse/blob/master/lighthouse-core/audits/critical-request-chains.js) 를 읽고 어떤 리소스들이 critical requests에 포함되는지 확인해보고, 왜 그 리소스들이 critical requests로 구분되었는지 생각해봅시다.

[Critical request chains](https://developers.google.com/web/fundamentals/performance/critical-rendering-path)은 페이지 렌더링에 중요한 일련의 종속 네트워크 요청이다. 체인 길이가 길거나 다운로드 크기가 클수록 성능에 미치는 영향력은 커진다.

즉 리소스의 길이, 크기, 순서등이 영향을 미치는 것으로 볼수 있다.

만약 JS, CSS 등은 렌더링 차단 리소소들이다. 만약 특정 JS가 다시 다른 JS를 호출하거나 CSS등을 호출하다면 그 동안 렌더링은 차단될 것이다. 렌더링이 차단되지 않으려면 이러한 리소스들을 어떻게 호출할것인지 고민해야 한다. 결국 이는 빠른 렌더링을 하기 위해서인데 길이가 긴것들이나 파일이 큰것들은 이 리소스를 다운로드 받을때 절대 시간이 증가한다. 그렇기 때문에 이러한 것들을 줄여야 하는 것이고, 렌더링할때 필요 없는 리소스를 동기적으로 호출에서 렌더링을 막는것도 불필요한 요소이다. 렌더링에 필요없는 것들은 비동기로 호출 함으로서 렌더링에 불필요한 요소를 최대한 배제하는 것이 목적이라 볼수 있다.

## 2.  [facade](https://web.dev/third-party-facades/)란 무엇일까요? 데이블 서비스에서 facade를 적용하는 예시를 생각해봅시다.

farcade 패턴은 복잡한 서브시스템을 인터페이스로 감싸 간단하게 만드는 것이다.

3rd party 리소스를 바로 로드하는 것이 아니라 파사드를 이용하여 지연로드하고, 요청시에만 로드를 하는 것이다. 즉 실제 사용할 때만 리소스를 로드해서 부담을 적게 해주는 것이다.

예를 들면 이미지에 마우스를 호버하면 gif 등이 실행되거나 동영상이 플레이 되는것을 말한다.

추후 동영상 위젯에서 데이터를 로드할때 사용한다..?

## 3.  [User Timing API](https://web.dev/user-timings/)란 무엇이고 어떻게 활용하면 좋을까?

웹 애플리케이션의 정밀한 성능(실행 시간을) 측정을 위한 API
1/1000초(ms) 이하 단위까지 측정이 가능하며 클라이언트 PC 시간을 기준으로 하지 않는다.

긴존 JavaScript 함수로 측정이 불가능했던 dnslookup, 웹서버 connection 시간등 페이지 로딩과 관련된 다양한 구간의 성능 측정을 할 수 있게 해준다.

성능 측정 코드가 페이지 로딩시 시간 지연문제를 일으키지 않는다.

- mark()
애플리케이션의 특정 지점에 mark()를 호출하면 웹 애플리케이션에서 그 마크에게 걸린시간을 계산해 준다.

- measure()
mark()로 호출한 타이밍들간의 소요 시간을 계산해 준다.

api를 호출하는데 느린 지점을 파악하는데 좋을 것 같다. 일단 개선을 하려면 어디가 느린지 측정을 해야 하는데, 이 느린 것을 파악하는데 사용하면 좋을 것 같다.

## 4.  자바스크립트 파일이 커지고 실행시간이 늘어나면 성능에 안좋은점들을 [종류별](https://web.dev/bootup-time/)로 자세히 살펴봅시다.

- 네트워크 비용
	- 자바스크립트 파일이 커지면 파일을 다운로드 받아야 한다.
	- 네트워크가 느린 경우 그만큼 시간이 오래 걸릴 것이다.
- 파싱 및 컴파일 비용
	- 자바스크립트 파일이 커지면 그만큼 컴파일해야 하는 코드가 늘어나는 것이다. 또한 문서에 나온것처럼 JS는 주 쓰레드에서 컴파일되는데 쓰레드가 사용중일때는 사용자의 입력에 응답할 수 없다.
- 실행 비용
	- JS는 메인 스레드에서도 실행되는데, 실행해야 하는 코드가 많아지면 페이지가 그만큼 느려진다... MKT 허용 카테고리를 생각해보자..
- 메모리 비용
	- JS 파일이 커지면 그만큼 많은 메모리를 사용해야 할 수 있다. 가뜩이나 메모리를 많이 잡아먹는 크롬이라 불평이 많은데, 메모리를 더 많이 먹을 수 있다.

## 5.  [Main thread](https://web.dev/mainthread-work-breakdown/)는 무엇이고 어떻게 작업량을 줄일 수 있을까?
## 6.  [webfont](https://web.dev/font-display/)가 로딩되기 전에도 텍스트를 표시해야 하는 이유는? 그리고 방법들을 논해봅시다.
